{"ast":null,"code":"import { isCheckDisabled } from './valueUtil';\nexport var SHOW_ALL = 'SHOW_ALL';\nexport var SHOW_PARENT = 'SHOW_PARENT';\nexport var SHOW_CHILD = 'SHOW_CHILD';\nexport function formatStrategyValues(values, strategy, keyEntities, fieldNames) {\n  var valueSet = new Set(values);\n\n  if (strategy === SHOW_CHILD) {\n    return values.filter(function (key) {\n      var entity = keyEntities[key];\n\n      if (entity && entity.children && entity.children.some(function (_ref) {\n        var node = _ref.node;\n        return valueSet.has(node[fieldNames.value]);\n      }) && entity.children.every(function (_ref2) {\n        var node = _ref2.node;\n        return isCheckDisabled(node) || valueSet.has(node[fieldNames.value]);\n      })) {\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  if (strategy === SHOW_PARENT) {\n    return values.filter(function (key) {\n      var entity = keyEntities[key];\n      var parent = entity ? entity.parent : null;\n\n      if (parent && !isCheckDisabled(parent.node) && valueSet.has(parent.key)) {\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  return values;\n}","map":{"version":3,"sources":["/Users/dennis.zhang/Desktop/其它代码库/moa-flow/node_modules/antd/node_modules/rc-tree-select/es/utils/strategyUtil.js"],"names":["isCheckDisabled","SHOW_ALL","SHOW_PARENT","SHOW_CHILD","formatStrategyValues","values","strategy","keyEntities","fieldNames","valueSet","Set","filter","key","entity","children","some","_ref","node","has","value","every","_ref2","parent"],"mappings":"AAAA,SAASA,eAAT,QAAgC,aAAhC;AACA,OAAO,IAAIC,QAAQ,GAAG,UAAf;AACP,OAAO,IAAIC,WAAW,GAAG,aAAlB;AACP,OAAO,IAAIC,UAAU,GAAG,YAAjB;AACP,OAAO,SAASC,oBAAT,CAA8BC,MAA9B,EAAsCC,QAAtC,EAAgDC,WAAhD,EAA6DC,UAA7D,EAAyE;AAC9E,MAAIC,QAAQ,GAAG,IAAIC,GAAJ,CAAQL,MAAR,CAAf;;AAEA,MAAIC,QAAQ,KAAKH,UAAjB,EAA6B;AAC3B,WAAOE,MAAM,CAACM,MAAP,CAAc,UAAUC,GAAV,EAAe;AAClC,UAAIC,MAAM,GAAGN,WAAW,CAACK,GAAD,CAAxB;;AAEA,UAAIC,MAAM,IAAIA,MAAM,CAACC,QAAjB,IAA6BD,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqB,UAAUC,IAAV,EAAgB;AACpE,YAAIC,IAAI,GAAGD,IAAI,CAACC,IAAhB;AACA,eAAOR,QAAQ,CAACS,GAAT,CAAaD,IAAI,CAACT,UAAU,CAACW,KAAZ,CAAjB,CAAP;AACD,OAHgC,CAA7B,IAGEN,MAAM,CAACC,QAAP,CAAgBM,KAAhB,CAAsB,UAAUC,KAAV,EAAiB;AAC3C,YAAIJ,IAAI,GAAGI,KAAK,CAACJ,IAAjB;AACA,eAAOjB,eAAe,CAACiB,IAAD,CAAf,IAAyBR,QAAQ,CAACS,GAAT,CAAaD,IAAI,CAACT,UAAU,CAACW,KAAZ,CAAjB,CAAhC;AACD,OAHK,CAHN,EAMI;AACF,eAAO,KAAP;AACD;;AAED,aAAO,IAAP;AACD,KAdM,CAAP;AAeD;;AAED,MAAIb,QAAQ,KAAKJ,WAAjB,EAA8B;AAC5B,WAAOG,MAAM,CAACM,MAAP,CAAc,UAAUC,GAAV,EAAe;AAClC,UAAIC,MAAM,GAAGN,WAAW,CAACK,GAAD,CAAxB;AACA,UAAIU,MAAM,GAAGT,MAAM,GAAGA,MAAM,CAACS,MAAV,GAAmB,IAAtC;;AAEA,UAAIA,MAAM,IAAI,CAACtB,eAAe,CAACsB,MAAM,CAACL,IAAR,CAA1B,IAA2CR,QAAQ,CAACS,GAAT,CAAaI,MAAM,CAACV,GAApB,CAA/C,EAAyE;AACvE,eAAO,KAAP;AACD;;AAED,aAAO,IAAP;AACD,KATM,CAAP;AAUD;;AAED,SAAOP,MAAP;AACD","sourcesContent":["import { isCheckDisabled } from './valueUtil';\nexport var SHOW_ALL = 'SHOW_ALL';\nexport var SHOW_PARENT = 'SHOW_PARENT';\nexport var SHOW_CHILD = 'SHOW_CHILD';\nexport function formatStrategyValues(values, strategy, keyEntities, fieldNames) {\n  var valueSet = new Set(values);\n\n  if (strategy === SHOW_CHILD) {\n    return values.filter(function (key) {\n      var entity = keyEntities[key];\n\n      if (entity && entity.children && entity.children.some(function (_ref) {\n        var node = _ref.node;\n        return valueSet.has(node[fieldNames.value]);\n      }) && entity.children.every(function (_ref2) {\n        var node = _ref2.node;\n        return isCheckDisabled(node) || valueSet.has(node[fieldNames.value]);\n      })) {\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  if (strategy === SHOW_PARENT) {\n    return values.filter(function (key) {\n      var entity = keyEntities[key];\n      var parent = entity ? entity.parent : null;\n\n      if (parent && !isCheckDisabled(parent.node) && valueSet.has(parent.key)) {\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  return values;\n}"]},"metadata":{},"sourceType":"module"}