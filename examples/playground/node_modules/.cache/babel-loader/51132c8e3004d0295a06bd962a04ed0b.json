{"ast":null,"code":"// 向量相加 或者 向量与坐标相加\nvar lineCenter = function (points, intercept) {\n  if (intercept === void 0) {\n    intercept = 0.5;\n  }\n\n  var total = 0,\n      lens = [];\n\n  for (var i = 1; i < points.length; i++) {\n    var len = Math.sqrt(Math.pow(points[i][0] - points[i - 1][0], 2) + Math.pow(points[i][1] - points[i - 1][1], 2));\n    lens.push(len);\n    total += len;\n  }\n\n  var half = intercept <= 1 ? total * intercept : intercept;\n\n  for (var i = 1; i < points.length; i++) {\n    if (half > lens[i - 1]) {\n      half -= lens[i - 1];\n    } else {\n      var t = half / lens[i - 1],\n          x = points[i - 1][0] + (points[i][0] - points[i - 1][0]) * t,\n          y = points[i - 1][1] + (points[i][1] - points[i - 1][1]) * t;\n      return [x, y];\n    }\n  }\n};\n\nexport { lineCenter };","map":{"version":3,"sources":["/Users/dennis.zhang/Desktop/其它代码库/moa-flow/packages/flow/lib/utils/vector.js"],"names":["lineCenter","points","intercept","total","lens","i","length","len","Math","sqrt","pow","push","half","t","x","y"],"mappings":"AAAA;AACA,IAAIA,UAAU,GAAG,UAAUC,MAAV,EAAkBC,SAAlB,EAA6B;AAC1C,MAAIA,SAAS,KAAK,KAAK,CAAvB,EAA0B;AAAEA,IAAAA,SAAS,GAAG,GAAZ;AAAkB;;AAC9C,MAAIC,KAAK,GAAG,CAAZ;AAAA,MAAeC,IAAI,GAAG,EAAtB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,MAAM,CAACK,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACpC,QAAIE,GAAG,GAAGC,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,GAAL,CAAST,MAAM,CAACI,CAAD,CAAN,CAAU,CAAV,IAAeJ,MAAM,CAACI,CAAC,GAAG,CAAL,CAAN,CAAc,CAAd,CAAxB,EAA0C,CAA1C,IAA+CG,IAAI,CAACE,GAAL,CAAST,MAAM,CAACI,CAAD,CAAN,CAAU,CAAV,IAAeJ,MAAM,CAACI,CAAC,GAAG,CAAL,CAAN,CAAc,CAAd,CAAxB,EAA0C,CAA1C,CAAzD,CAAV;AACAD,IAAAA,IAAI,CAACO,IAAL,CAAUJ,GAAV;AACAJ,IAAAA,KAAK,IAAII,GAAT;AACH;;AACD,MAAIK,IAAI,GAAGV,SAAS,IAAI,CAAb,GAAiBC,KAAK,GAAGD,SAAzB,GAAqCA,SAAhD;;AACA,OAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,MAAM,CAACK,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACpC,QAAIO,IAAI,GAAGR,IAAI,CAACC,CAAC,GAAG,CAAL,CAAf,EAAwB;AACpBO,MAAAA,IAAI,IAAIR,IAAI,CAACC,CAAC,GAAG,CAAL,CAAZ;AACH,KAFD,MAGK;AACD,UAAIQ,CAAC,GAAGD,IAAI,GAAGR,IAAI,CAACC,CAAC,GAAG,CAAL,CAAnB;AAAA,UAA4BS,CAAC,GAAGb,MAAM,CAACI,CAAC,GAAG,CAAL,CAAN,CAAc,CAAd,IAAmB,CAACJ,MAAM,CAACI,CAAD,CAAN,CAAU,CAAV,IAAeJ,MAAM,CAACI,CAAC,GAAG,CAAL,CAAN,CAAc,CAAd,CAAhB,IAAoCQ,CAAvF;AAAA,UAA0FE,CAAC,GAAGd,MAAM,CAACI,CAAC,GAAG,CAAL,CAAN,CAAc,CAAd,IAAmB,CAACJ,MAAM,CAACI,CAAD,CAAN,CAAU,CAAV,IAAeJ,MAAM,CAACI,CAAC,GAAG,CAAL,CAAN,CAAc,CAAd,CAAhB,IAAoCQ,CAArJ;AACA,aAAO,CAACC,CAAD,EAAIC,CAAJ,CAAP;AACH;AACJ;AACJ,CAlBD;;AAoBA,SAASf,UAAT","sourcesContent":["// 向量相加 或者 向量与坐标相加\nvar lineCenter = function (points, intercept) {\n    if (intercept === void 0) { intercept = 0.5; }\n    var total = 0, lens = [];\n    for (var i = 1; i < points.length; i++) {\n        var len = Math.sqrt(Math.pow(points[i][0] - points[i - 1][0], 2) + Math.pow(points[i][1] - points[i - 1][1], 2));\n        lens.push(len);\n        total += len;\n    }\n    var half = intercept <= 1 ? total * intercept : intercept;\n    for (var i = 1; i < points.length; i++) {\n        if (half > lens[i - 1]) {\n            half -= lens[i - 1];\n        }\n        else {\n            var t = half / lens[i - 1], x = points[i - 1][0] + (points[i][0] - points[i - 1][0]) * t, y = points[i - 1][1] + (points[i][1] - points[i - 1][1]) * t;\n            return [x, y];\n        }\n    }\n};\n\nexport { lineCenter };\n"]},"metadata":{},"sourceType":"module"}