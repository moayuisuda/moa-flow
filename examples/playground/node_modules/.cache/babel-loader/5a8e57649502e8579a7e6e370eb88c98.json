{"ast":null,"code":"import { parseColor } from './color';\nimport { parseDimension } from './dimension';\nexport var parseParam = parseDimension.bind(null, /deg|rad|grad|turn|px|%/g);\nvar supportedFilters = ['blur', 'brightness', 'drop-shadow', 'contrast', 'grayscale', 'sepia', 'saturate', 'hue-rotate', 'invert'];\nexport function parseFilter(filterStr) {\n  if (filterStr === void 0) {\n    filterStr = '';\n  }\n\n  filterStr = filterStr.toLowerCase().trim();\n\n  if (filterStr === 'none') {\n    return [];\n  }\n\n  var filterRegExp = /\\s*([\\w-]+)\\(([^)]*)\\)/g;\n  var result = [];\n  var match;\n  var prevLastIndex = 0;\n\n  while (match = filterRegExp.exec(filterStr)) {\n    if (match.index !== prevLastIndex) {\n      return [];\n    }\n\n    prevLastIndex = match.index + match[0].length;\n\n    if (supportedFilters.indexOf(match[1]) > -1) {\n      result.push({\n        name: match[1],\n        params: match[2].split(' ').map(function (p) {\n          return parseParam(p) || parseColor(p);\n        })\n      });\n    }\n\n    if (filterRegExp.lastIndex === filterStr.length) {\n      return result;\n    }\n  }\n\n  return [];\n}","map":{"version":3,"sources":["/Users/dennis.zhang/Desktop/其它代码库/moa-flow/node_modules/@antv/g/es/css/parser/filter.js"],"names":["parseColor","parseDimension","parseParam","bind","supportedFilters","parseFilter","filterStr","toLowerCase","trim","filterRegExp","result","match","prevLastIndex","exec","index","length","indexOf","push","name","params","split","map","p","lastIndex"],"mappings":"AAAA,SAASA,UAAT,QAA2B,SAA3B;AACA,SAASC,cAAT,QAA+B,aAA/B;AACA,OAAO,IAAIC,UAAU,GAAGD,cAAc,CAACE,IAAf,CAAoB,IAApB,EAA0B,yBAA1B,CAAjB;AACP,IAAIC,gBAAgB,GAAG,CAAC,MAAD,EAAS,YAAT,EAAuB,aAAvB,EAAsC,UAAtC,EAAkD,WAAlD,EAA+D,OAA/D,EAAwE,UAAxE,EAAoF,YAApF,EAAkG,QAAlG,CAAvB;AACA,OAAO,SAASC,WAAT,CAAqBC,SAArB,EAAgC;AACrC,MAAIA,SAAS,KAAK,KAAK,CAAvB,EAA0B;AACxBA,IAAAA,SAAS,GAAG,EAAZ;AACD;;AAEDA,EAAAA,SAAS,GAAGA,SAAS,CAACC,WAAV,GAAwBC,IAAxB,EAAZ;;AAEA,MAAIF,SAAS,KAAK,MAAlB,EAA0B;AACxB,WAAO,EAAP;AACD;;AAED,MAAIG,YAAY,GAAG,yBAAnB;AACA,MAAIC,MAAM,GAAG,EAAb;AACA,MAAIC,KAAJ;AACA,MAAIC,aAAa,GAAG,CAApB;;AAEA,SAAOD,KAAK,GAAGF,YAAY,CAACI,IAAb,CAAkBP,SAAlB,CAAf,EAA6C;AAC3C,QAAIK,KAAK,CAACG,KAAN,KAAgBF,aAApB,EAAmC;AACjC,aAAO,EAAP;AACD;;AAEDA,IAAAA,aAAa,GAAGD,KAAK,CAACG,KAAN,GAAcH,KAAK,CAAC,CAAD,CAAL,CAASI,MAAvC;;AAEA,QAAIX,gBAAgB,CAACY,OAAjB,CAAyBL,KAAK,CAAC,CAAD,CAA9B,IAAqC,CAAC,CAA1C,EAA6C;AAC3CD,MAAAA,MAAM,CAACO,IAAP,CAAY;AACVC,QAAAA,IAAI,EAAEP,KAAK,CAAC,CAAD,CADD;AAEVQ,QAAAA,MAAM,EAAER,KAAK,CAAC,CAAD,CAAL,CAASS,KAAT,CAAe,GAAf,EAAoBC,GAApB,CAAwB,UAAUC,CAAV,EAAa;AAC3C,iBAAOpB,UAAU,CAACoB,CAAD,CAAV,IAAiBtB,UAAU,CAACsB,CAAD,CAAlC;AACD,SAFO;AAFE,OAAZ;AAMD;;AAED,QAAIb,YAAY,CAACc,SAAb,KAA2BjB,SAAS,CAACS,MAAzC,EAAiD;AAC/C,aAAOL,MAAP;AACD;AACF;;AAED,SAAO,EAAP;AACD","sourcesContent":["import { parseColor } from './color';\nimport { parseDimension } from './dimension';\nexport var parseParam = parseDimension.bind(null, /deg|rad|grad|turn|px|%/g);\nvar supportedFilters = ['blur', 'brightness', 'drop-shadow', 'contrast', 'grayscale', 'sepia', 'saturate', 'hue-rotate', 'invert'];\nexport function parseFilter(filterStr) {\n  if (filterStr === void 0) {\n    filterStr = '';\n  }\n\n  filterStr = filterStr.toLowerCase().trim();\n\n  if (filterStr === 'none') {\n    return [];\n  }\n\n  var filterRegExp = /\\s*([\\w-]+)\\(([^)]*)\\)/g;\n  var result = [];\n  var match;\n  var prevLastIndex = 0;\n\n  while (match = filterRegExp.exec(filterStr)) {\n    if (match.index !== prevLastIndex) {\n      return [];\n    }\n\n    prevLastIndex = match.index + match[0].length;\n\n    if (supportedFilters.indexOf(match[1]) > -1) {\n      result.push({\n        name: match[1],\n        params: match[2].split(' ').map(function (p) {\n          return parseParam(p) || parseColor(p);\n        })\n      });\n    }\n\n    if (filterRegExp.lastIndex === filterStr.length) {\n      return result;\n    }\n  }\n\n  return [];\n}"]},"metadata":{},"sourceType":"module"}