{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Lookup = void 0;\n\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\n\nvar Lookup = function () {\n  function Lookup() {\n    this._map = new Map();\n  }\n\n  Lookup.prototype.getMap = function () {\n    return this._map;\n  };\n\n  Lookup.prototype.add = function (serviceIdentifier, value) {\n    if (serviceIdentifier === null || serviceIdentifier === undefined) {\n      throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n    }\n\n    if (value === null || value === undefined) {\n      throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n    }\n\n    var entry = this._map.get(serviceIdentifier);\n\n    if (entry !== undefined) {\n      entry.push(value);\n\n      this._map.set(serviceIdentifier, entry);\n    } else {\n      this._map.set(serviceIdentifier, [value]);\n    }\n  };\n\n  Lookup.prototype.get = function (serviceIdentifier) {\n    if (serviceIdentifier === null || serviceIdentifier === undefined) {\n      throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n    }\n\n    var entry = this._map.get(serviceIdentifier);\n\n    if (entry !== undefined) {\n      return entry;\n    } else {\n      throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n    }\n  };\n\n  Lookup.prototype.remove = function (serviceIdentifier) {\n    if (serviceIdentifier === null || serviceIdentifier === undefined) {\n      throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n    }\n\n    if (!this._map.delete(serviceIdentifier)) {\n      throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n    }\n  };\n\n  Lookup.prototype.removeByCondition = function (condition) {\n    var _this = this;\n\n    this._map.forEach(function (entries, key) {\n      var updatedEntries = entries.filter(function (entry) {\n        return !condition(entry);\n      });\n\n      if (updatedEntries.length > 0) {\n        _this._map.set(key, updatedEntries);\n      } else {\n        _this._map.delete(key);\n      }\n    });\n  };\n\n  Lookup.prototype.hasKey = function (serviceIdentifier) {\n    if (serviceIdentifier === null || serviceIdentifier === undefined) {\n      throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n    }\n\n    return this._map.has(serviceIdentifier);\n  };\n\n  Lookup.prototype.clone = function () {\n    var copy = new Lookup();\n\n    this._map.forEach(function (value, key) {\n      value.forEach(function (b) {\n        return copy.add(key, b.clone());\n      });\n    });\n\n    return copy;\n  };\n\n  Lookup.prototype.traverse = function (func) {\n    this._map.forEach(function (value, key) {\n      func(key, value);\n    });\n  };\n\n  return Lookup;\n}();\n\nexports.Lookup = Lookup;","map":{"version":3,"mappings":"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","names":["_map","Map","Lookup","serviceIdentifier","value","undefined","Error","ERROR_MSGS","NULL_ARGUMENT","entry","get","push","set","KEY_NOT_FOUND","delete","condition","forEach","entries","key","updatedEntries","filter","length","_this","has","copy","b","add","clone","func","exports"],"sources":["../../src/container/lookup.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}