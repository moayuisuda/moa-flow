{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcDrawer from 'rc-drawer';\nimport CloseOutlined from \"@ant-design/icons/es/icons/CloseOutlined\";\nimport classNames from 'classnames';\nimport { ConfigContext } from '../config-provider';\nimport { tuple } from '../_util/type';\nimport useForceUpdate from '../_util/hooks/useForceUpdate';\nvar DrawerContext = /*#__PURE__*/React.createContext(null);\nvar PlacementTypes = tuple('top', 'right', 'bottom', 'left');\nvar SizeTypes = tuple('default', 'large');\nvar defaultPushState = {\n  distance: 180\n};\nvar Drawer = /*#__PURE__*/React.forwardRef(function (_a, ref) {\n  var width = _a.width,\n      height = _a.height,\n      _a$size = _a.size,\n      size = _a$size === void 0 ? 'default' : _a$size,\n      _a$closable = _a.closable,\n      closable = _a$closable === void 0 ? true : _a$closable,\n      _a$placement = _a.placement,\n      placement = _a$placement === void 0 ? 'right' : _a$placement,\n      _a$maskClosable = _a.maskClosable,\n      maskClosable = _a$maskClosable === void 0 ? true : _a$maskClosable,\n      _a$mask = _a.mask,\n      mask = _a$mask === void 0 ? true : _a$mask,\n      _a$level = _a.level,\n      level = _a$level === void 0 ? null : _a$level,\n      _a$keyboard = _a.keyboard,\n      keyboard = _a$keyboard === void 0 ? true : _a$keyboard,\n      _a$push = _a.push,\n      _push = _a$push === void 0 ? defaultPushState : _a$push,\n      _a$closeIcon = _a.closeIcon,\n      closeIcon = _a$closeIcon === void 0 ? /*#__PURE__*/React.createElement(CloseOutlined, null) : _a$closeIcon,\n      bodyStyle = _a.bodyStyle,\n      drawerStyle = _a.drawerStyle,\n      className = _a.className,\n      visible = _a.visible,\n      children = _a.children,\n      zIndex = _a.zIndex,\n      destroyOnClose = _a.destroyOnClose,\n      style = _a.style,\n      title = _a.title,\n      headerStyle = _a.headerStyle,\n      onClose = _a.onClose,\n      footer = _a.footer,\n      footerStyle = _a.footerStyle,\n      customizePrefixCls = _a.prefixCls,\n      customizeGetContainer = _a.getContainer,\n      extra = _a.extra,\n      rest = __rest(_a, [\"width\", \"height\", \"size\", \"closable\", \"placement\", \"maskClosable\", \"mask\", \"level\", \"keyboard\", \"push\", \"closeIcon\", \"bodyStyle\", \"drawerStyle\", \"className\", \"visible\", \"children\", \"zIndex\", \"destroyOnClose\", \"style\", \"title\", \"headerStyle\", \"onClose\", \"footer\", \"footerStyle\", \"prefixCls\", \"getContainer\", \"extra\"]);\n\n  var forceUpdate = useForceUpdate();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      internalPush = _React$useState2[0],\n      setPush = _React$useState2[1];\n\n  var parentDrawer = React.useContext(DrawerContext);\n  var destroyClose = React.useRef(false);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPopupContainer = _React$useContext.getPopupContainer,\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('drawer', customizePrefixCls);\n  var getContainer = // 有可能为 false，所以不能直接判断\n  customizeGetContainer === undefined && getPopupContainer ? function () {\n    return getPopupContainer(document.body);\n  } : customizeGetContainer;\n  React.useEffect(function () {\n    // fix: delete drawer in child and re-render, no push started.\n    // <Drawer>{show && <Drawer />}</Drawer>\n    if (visible && parentDrawer) {\n      parentDrawer.push();\n    }\n\n    return function () {\n      if (parentDrawer) {\n        parentDrawer.pull(); // parentDrawer = null;\n      }\n    };\n  }, []);\n  React.useEffect(function () {\n    if (parentDrawer) {\n      if (visible) {\n        parentDrawer.push();\n      } else {\n        parentDrawer.pull();\n      }\n    }\n  }, [visible]);\n  var operations = React.useMemo(function () {\n    return {\n      push: function push() {\n        if (_push) {\n          setPush(true);\n        }\n      },\n      pull: function pull() {\n        if (_push) {\n          setPush(false);\n        }\n      }\n    };\n  }, [_push]);\n  React.useImperativeHandle(ref, function () {\n    return operations;\n  }, [operations]);\n  var isDestroyOnClose = destroyOnClose && !visible;\n\n  var onDestroyTransitionEnd = function onDestroyTransitionEnd() {\n    if (!isDestroyOnClose) {\n      return;\n    }\n\n    if (!visible) {\n      destroyClose.current = true;\n      forceUpdate();\n    }\n  };\n\n  var getOffsetStyle = function getOffsetStyle() {\n    // https://github.com/ant-design/ant-design/issues/24287\n    if (!visible && !mask) {\n      return {};\n    }\n\n    var offsetStyle = {};\n\n    if (placement === 'left' || placement === 'right') {\n      var defaultWidth = size === 'large' ? 736 : 378;\n      offsetStyle.width = typeof width === 'undefined' ? defaultWidth : width;\n    } else {\n      var defaultHeight = size === 'large' ? 736 : 378;\n      offsetStyle.height = typeof height === 'undefined' ? defaultHeight : height;\n    }\n\n    return offsetStyle;\n  };\n\n  var getRcDrawerStyle = function getRcDrawerStyle() {\n    // get drawer push width or height\n    var getPushTransform = function getPushTransform(_placement) {\n      var distance;\n\n      if (typeof _push === 'boolean') {\n        distance = _push ? defaultPushState.distance : 0;\n      } else {\n        distance = _push.distance;\n      }\n\n      distance = parseFloat(String(distance || 0));\n\n      if (_placement === 'left' || _placement === 'right') {\n        return \"translateX(\".concat(_placement === 'left' ? distance : -distance, \"px)\");\n      }\n\n      if (_placement === 'top' || _placement === 'bottom') {\n        return \"translateY(\".concat(_placement === 'top' ? distance : -distance, \"px)\");\n      }\n    }; // 当无 mask 时，将 width 应用到外层容器上\n    // 解决 https://github.com/ant-design/ant-design/issues/12401 的问题\n\n\n    var offsetStyle = mask ? {} : getOffsetStyle();\n    return _extends(_extends({\n      zIndex: zIndex,\n      transform: internalPush ? getPushTransform(placement) : undefined\n    }, offsetStyle), style);\n  };\n\n  var closeIconNode = closable && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onClose,\n    \"aria-label\": \"Close\",\n    className: \"\".concat(prefixCls, \"-close\")\n  }, closeIcon);\n\n  function renderHeader() {\n    if (!title && !closable) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(\"\".concat(prefixCls, \"-header\"), _defineProperty({}, \"\".concat(prefixCls, \"-header-close-only\"), closable && !title && !extra)),\n      style: headerStyle\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-header-title\")\n    }, closeIconNode, title && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-title\")\n    }, title)), extra && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-extra\")\n    }, extra));\n  }\n\n  function renderFooter() {\n    if (!footer) {\n      return null;\n    }\n\n    var footerClassName = \"\".concat(prefixCls, \"-footer\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: footerClassName,\n      style: footerStyle\n    }, footer);\n  } // render drawer body dom\n\n\n  var renderBody = function renderBody() {\n    if (destroyClose.current && !visible) {\n      return null;\n    }\n\n    destroyClose.current = false;\n    var containerStyle = {};\n\n    if (isDestroyOnClose) {\n      // Increase the opacity transition, delete children after closing.\n      containerStyle.opacity = 0;\n      containerStyle.transition = 'opacity .3s';\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-wrapper-body\"),\n      style: _extends(_extends({}, containerStyle), drawerStyle),\n      onTransitionEnd: onDestroyTransitionEnd\n    }, renderHeader(), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-body\"),\n      style: bodyStyle\n    }, children), renderFooter());\n  };\n\n  var drawerClassName = classNames(_defineProperty({\n    'no-mask': !mask\n  }, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), className);\n  var offsetStyle = mask ? getOffsetStyle() : {};\n  return /*#__PURE__*/React.createElement(DrawerContext.Provider, {\n    value: operations\n  }, /*#__PURE__*/React.createElement(RcDrawer, _extends({\n    handler: false\n  }, _extends({\n    placement: placement,\n    prefixCls: prefixCls,\n    maskClosable: maskClosable,\n    level: level,\n    keyboard: keyboard,\n    children: children,\n    onClose: onClose\n  }, rest), offsetStyle, {\n    open: visible,\n    showMask: mask,\n    style: getRcDrawerStyle(),\n    className: drawerClassName,\n    getContainer: getContainer\n  }), renderBody()));\n});\nDrawer.displayName = 'Drawer';\nexport default Drawer;","map":{"version":3,"sources":["/Users/dennis.zhang/Desktop/其它代码库/moa-flow/node_modules/antd/es/drawer/index.js"],"names":["_defineProperty","_extends","_slicedToArray","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","React","RcDrawer","CloseOutlined","classNames","ConfigContext","tuple","useForceUpdate","DrawerContext","createContext","PlacementTypes","SizeTypes","defaultPushState","distance","Drawer","forwardRef","_a","ref","width","height","_a$size","size","_a$closable","closable","_a$placement","placement","_a$maskClosable","maskClosable","_a$mask","mask","_a$level","level","_a$keyboard","keyboard","_a$push","push","_push","_a$closeIcon","closeIcon","createElement","bodyStyle","drawerStyle","className","visible","children","zIndex","destroyOnClose","style","title","headerStyle","onClose","footer","footerStyle","customizePrefixCls","prefixCls","customizeGetContainer","getContainer","extra","rest","forceUpdate","_React$useState","useState","_React$useState2","internalPush","setPush","parentDrawer","useContext","destroyClose","useRef","_React$useContext","getPopupContainer","getPrefixCls","direction","undefined","document","body","useEffect","pull","operations","useMemo","useImperativeHandle","isDestroyOnClose","onDestroyTransitionEnd","current","getOffsetStyle","offsetStyle","defaultWidth","defaultHeight","getRcDrawerStyle","getPushTransform","_placement","parseFloat","String","concat","transform","closeIconNode","type","onClick","renderHeader","renderFooter","footerClassName","renderBody","containerStyle","opacity","transition","onTransitionEnd","drawerClassName","Provider","value","handler","open","showMask","displayName"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcDrawer from 'rc-drawer';\nimport CloseOutlined from \"@ant-design/icons/es/icons/CloseOutlined\";\nimport classNames from 'classnames';\nimport { ConfigContext } from '../config-provider';\nimport { tuple } from '../_util/type';\nimport useForceUpdate from '../_util/hooks/useForceUpdate';\nvar DrawerContext = /*#__PURE__*/React.createContext(null);\nvar PlacementTypes = tuple('top', 'right', 'bottom', 'left');\nvar SizeTypes = tuple('default', 'large');\nvar defaultPushState = {\n  distance: 180\n};\nvar Drawer = /*#__PURE__*/React.forwardRef(function (_a, ref) {\n  var width = _a.width,\n      height = _a.height,\n      _a$size = _a.size,\n      size = _a$size === void 0 ? 'default' : _a$size,\n      _a$closable = _a.closable,\n      closable = _a$closable === void 0 ? true : _a$closable,\n      _a$placement = _a.placement,\n      placement = _a$placement === void 0 ? 'right' : _a$placement,\n      _a$maskClosable = _a.maskClosable,\n      maskClosable = _a$maskClosable === void 0 ? true : _a$maskClosable,\n      _a$mask = _a.mask,\n      mask = _a$mask === void 0 ? true : _a$mask,\n      _a$level = _a.level,\n      level = _a$level === void 0 ? null : _a$level,\n      _a$keyboard = _a.keyboard,\n      keyboard = _a$keyboard === void 0 ? true : _a$keyboard,\n      _a$push = _a.push,\n      _push = _a$push === void 0 ? defaultPushState : _a$push,\n      _a$closeIcon = _a.closeIcon,\n      closeIcon = _a$closeIcon === void 0 ? /*#__PURE__*/React.createElement(CloseOutlined, null) : _a$closeIcon,\n      bodyStyle = _a.bodyStyle,\n      drawerStyle = _a.drawerStyle,\n      className = _a.className,\n      visible = _a.visible,\n      children = _a.children,\n      zIndex = _a.zIndex,\n      destroyOnClose = _a.destroyOnClose,\n      style = _a.style,\n      title = _a.title,\n      headerStyle = _a.headerStyle,\n      onClose = _a.onClose,\n      footer = _a.footer,\n      footerStyle = _a.footerStyle,\n      customizePrefixCls = _a.prefixCls,\n      customizeGetContainer = _a.getContainer,\n      extra = _a.extra,\n      rest = __rest(_a, [\"width\", \"height\", \"size\", \"closable\", \"placement\", \"maskClosable\", \"mask\", \"level\", \"keyboard\", \"push\", \"closeIcon\", \"bodyStyle\", \"drawerStyle\", \"className\", \"visible\", \"children\", \"zIndex\", \"destroyOnClose\", \"style\", \"title\", \"headerStyle\", \"onClose\", \"footer\", \"footerStyle\", \"prefixCls\", \"getContainer\", \"extra\"]);\n\n  var forceUpdate = useForceUpdate();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      internalPush = _React$useState2[0],\n      setPush = _React$useState2[1];\n\n  var parentDrawer = React.useContext(DrawerContext);\n  var destroyClose = React.useRef(false);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPopupContainer = _React$useContext.getPopupContainer,\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('drawer', customizePrefixCls);\n  var getContainer = // 有可能为 false，所以不能直接判断\n  customizeGetContainer === undefined && getPopupContainer ? function () {\n    return getPopupContainer(document.body);\n  } : customizeGetContainer;\n  React.useEffect(function () {\n    // fix: delete drawer in child and re-render, no push started.\n    // <Drawer>{show && <Drawer />}</Drawer>\n    if (visible && parentDrawer) {\n      parentDrawer.push();\n    }\n\n    return function () {\n      if (parentDrawer) {\n        parentDrawer.pull(); // parentDrawer = null;\n      }\n    };\n  }, []);\n  React.useEffect(function () {\n    if (parentDrawer) {\n      if (visible) {\n        parentDrawer.push();\n      } else {\n        parentDrawer.pull();\n      }\n    }\n  }, [visible]);\n  var operations = React.useMemo(function () {\n    return {\n      push: function push() {\n        if (_push) {\n          setPush(true);\n        }\n      },\n      pull: function pull() {\n        if (_push) {\n          setPush(false);\n        }\n      }\n    };\n  }, [_push]);\n  React.useImperativeHandle(ref, function () {\n    return operations;\n  }, [operations]);\n  var isDestroyOnClose = destroyOnClose && !visible;\n\n  var onDestroyTransitionEnd = function onDestroyTransitionEnd() {\n    if (!isDestroyOnClose) {\n      return;\n    }\n\n    if (!visible) {\n      destroyClose.current = true;\n      forceUpdate();\n    }\n  };\n\n  var getOffsetStyle = function getOffsetStyle() {\n    // https://github.com/ant-design/ant-design/issues/24287\n    if (!visible && !mask) {\n      return {};\n    }\n\n    var offsetStyle = {};\n\n    if (placement === 'left' || placement === 'right') {\n      var defaultWidth = size === 'large' ? 736 : 378;\n      offsetStyle.width = typeof width === 'undefined' ? defaultWidth : width;\n    } else {\n      var defaultHeight = size === 'large' ? 736 : 378;\n      offsetStyle.height = typeof height === 'undefined' ? defaultHeight : height;\n    }\n\n    return offsetStyle;\n  };\n\n  var getRcDrawerStyle = function getRcDrawerStyle() {\n    // get drawer push width or height\n    var getPushTransform = function getPushTransform(_placement) {\n      var distance;\n\n      if (typeof _push === 'boolean') {\n        distance = _push ? defaultPushState.distance : 0;\n      } else {\n        distance = _push.distance;\n      }\n\n      distance = parseFloat(String(distance || 0));\n\n      if (_placement === 'left' || _placement === 'right') {\n        return \"translateX(\".concat(_placement === 'left' ? distance : -distance, \"px)\");\n      }\n\n      if (_placement === 'top' || _placement === 'bottom') {\n        return \"translateY(\".concat(_placement === 'top' ? distance : -distance, \"px)\");\n      }\n    }; // 当无 mask 时，将 width 应用到外层容器上\n    // 解决 https://github.com/ant-design/ant-design/issues/12401 的问题\n\n\n    var offsetStyle = mask ? {} : getOffsetStyle();\n    return _extends(_extends({\n      zIndex: zIndex,\n      transform: internalPush ? getPushTransform(placement) : undefined\n    }, offsetStyle), style);\n  };\n\n  var closeIconNode = closable && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onClose,\n    \"aria-label\": \"Close\",\n    className: \"\".concat(prefixCls, \"-close\")\n  }, closeIcon);\n\n  function renderHeader() {\n    if (!title && !closable) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(\"\".concat(prefixCls, \"-header\"), _defineProperty({}, \"\".concat(prefixCls, \"-header-close-only\"), closable && !title && !extra)),\n      style: headerStyle\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-header-title\")\n    }, closeIconNode, title && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-title\")\n    }, title)), extra && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-extra\")\n    }, extra));\n  }\n\n  function renderFooter() {\n    if (!footer) {\n      return null;\n    }\n\n    var footerClassName = \"\".concat(prefixCls, \"-footer\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: footerClassName,\n      style: footerStyle\n    }, footer);\n  } // render drawer body dom\n\n\n  var renderBody = function renderBody() {\n    if (destroyClose.current && !visible) {\n      return null;\n    }\n\n    destroyClose.current = false;\n    var containerStyle = {};\n\n    if (isDestroyOnClose) {\n      // Increase the opacity transition, delete children after closing.\n      containerStyle.opacity = 0;\n      containerStyle.transition = 'opacity .3s';\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-wrapper-body\"),\n      style: _extends(_extends({}, containerStyle), drawerStyle),\n      onTransitionEnd: onDestroyTransitionEnd\n    }, renderHeader(), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-body\"),\n      style: bodyStyle\n    }, children), renderFooter());\n  };\n\n  var drawerClassName = classNames(_defineProperty({\n    'no-mask': !mask\n  }, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), className);\n  var offsetStyle = mask ? getOffsetStyle() : {};\n  return /*#__PURE__*/React.createElement(DrawerContext.Provider, {\n    value: operations\n  }, /*#__PURE__*/React.createElement(RcDrawer, _extends({\n    handler: false\n  }, _extends({\n    placement: placement,\n    prefixCls: prefixCls,\n    maskClosable: maskClosable,\n    level: level,\n    keyboard: keyboard,\n    children: children,\n    onClose: onClose\n  }, rest), offsetStyle, {\n    open: visible,\n    showMask: mask,\n    style: getRcDrawerStyle(),\n    className: drawerClassName,\n    getContainer: getContainer\n  }), renderBody()));\n});\nDrawer.displayName = 'Drawer';\nexport default Drawer;"]},"metadata":{},"sourceType":"module"}