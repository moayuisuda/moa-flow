{"ast":null,"code":"import { __extends, __assign } from '../../node_modules/tslib/tslib.es6.js';\nimport { Rect, Text, Circle } from '@antv/react-g';\nimport Interactor from '../../scaffold/Interacotr.js';\nimport Node from '../Node.js';\nimport React from 'react';\nvar Port = Interactor.Port;\n\nvar CommonNode =\n/** @class */\nfunction (_super) {\n  __extends(CommonNode, _super);\n\n  function CommonNode() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.getStroke = function () {\n      var isSelect = _this.isSelect();\n\n      var color = _this.context.color;\n\n      if (isSelect) {\n        return {\n          stroke: color.active,\n          lineWidth: 3\n        };\n      } else return {\n        stroke: undefined,\n        lineWidth: 0\n      };\n    };\n\n    return _this;\n  }\n\n  CommonNode.getBounds = function (cellData) {\n    return {\n      x: cellData.x,\n      y: cellData.y,\n      width: 200,\n      height: 100\n    };\n  };\n\n  CommonNode.prototype.content = function () {\n    var color = this.context.color;\n    var data = this.props.data;\n    var label = data.label,\n        ports = data.ports;\n\n    var _a = CommonNode.getBounds(data),\n        width = _a.width,\n        height = _a.height;\n\n    var inPorts = (ports === null || ports === void 0 ? void 0 : ports.filter(function (portData) {\n      return portData.portType === \"in\";\n    })) || [];\n    var outPorts = (ports === null || ports === void 0 ? void 0 : ports.filter(function (portData) {\n      return portData.portType === \"out\";\n    })) || [];\n    return React.createElement(Interactor, __assign({}, this.props.data), React.createElement(Rect, __assign({\n      width: width,\n      height: height,\n      fill: \"white\",\n      shadowColor: \"rgba(0,0,0,0.1)\",\n      shadowBlur: 10,\n      radius: 10\n    }, this.getStroke())), React.createElement(Rect, {\n      width: width,\n      height: 40,\n      fill: color.deepGrey,\n      radius: 10\n    }), React.createElement(Text, {\n      x: 10,\n      y: 10,\n      fontWeight: \"bold\",\n      textBaseline: \"top\",\n      text: label,\n      fill: \"white\"\n    }), inPorts.map(function (portData) {\n      return React.createElement(Port, {\n        y: 70,\n        data: portData,\n        key: portData.label,\n        anchor: {\n          x: data.x - 20,\n          y: data.y + 70\n        }\n      }, React.createElement(Circle, {\n        lineWidth: 4,\n        stroke: color.primary,\n        fill: \"white\",\n        r: 10\n      }));\n    }), outPorts.map(function (portData) {\n      return React.createElement(Port, {\n        x: width,\n        y: 70,\n        data: portData,\n        key: portData.label,\n        anchor: {\n          x: data.x + width + 20,\n          y: data.y + 70\n        }\n      }, React.createElement(Circle, {\n        lineWidth: 4,\n        stroke: color.primary,\n        fill: \"white\",\n        r: 10\n      }));\n    }));\n  };\n\n  CommonNode.metaData = {\n    label: \"\"\n  };\n  return CommonNode;\n}(Node);\n\nexport { CommonNode as default };","map":{"version":3,"sources":["/Users/dennis.zhang/Desktop/其它代码库/moa-flow/packages/flow/lib/cells/CommonNode/index.js"],"names":["__extends","__assign","Rect","Text","Circle","Interactor","Node","React","Port","CommonNode","_super","_this","apply","arguments","getStroke","isSelect","color","context","stroke","active","lineWidth","undefined","getBounds","cellData","x","y","width","height","prototype","content","data","props","label","ports","_a","inPorts","filter","portData","portType","outPorts","createElement","fill","shadowColor","shadowBlur","radius","deepGrey","fontWeight","textBaseline","text","map","key","anchor","primary","r","metaData","default"],"mappings":"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","sourcesContent":["import { __extends, __assign } from '../../node_modules/tslib/tslib.es6.js';\nimport { Rect, Text, Circle } from '@antv/react-g';\nimport Interactor from '../../scaffold/Interacotr.js';\nimport Node from '../Node.js';\nimport React from 'react';\n\nvar Port = Interactor.Port;\nvar CommonNode = /** @class */ (function (_super) {\n    __extends(CommonNode, _super);\n    function CommonNode() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.getStroke = function () {\n            var isSelect = _this.isSelect();\n            var color = _this.context.color;\n            if (isSelect) {\n                return {\n                    stroke: color.active,\n                    lineWidth: 3,\n                };\n            }\n            else\n                return {\n                    stroke: undefined,\n                    lineWidth: 0,\n                };\n        };\n        return _this;\n    }\n    CommonNode.getBounds = function (cellData) {\n        return {\n            x: cellData.x,\n            y: cellData.y,\n            width: 200,\n            height: 100,\n        };\n    };\n    CommonNode.prototype.content = function () {\n        var color = this.context.color;\n        var data = this.props.data;\n        var label = data.label, ports = data.ports;\n        var _a = CommonNode.getBounds(data), width = _a.width, height = _a.height;\n        var inPorts = (ports === null || ports === void 0 ? void 0 : ports.filter(function (portData) { return portData.portType === \"in\"; })) || [];\n        var outPorts = (ports === null || ports === void 0 ? void 0 : ports.filter(function (portData) { return portData.portType === \"out\"; })) || [];\n        return (React.createElement(Interactor, __assign({}, this.props.data),\n            React.createElement(Rect, __assign({ width: width, height: height, fill: \"white\", shadowColor: \"rgba(0,0,0,0.1)\", shadowBlur: 10, radius: 10 }, this.getStroke())),\n            React.createElement(Rect, { width: width, height: 40, fill: color.deepGrey, radius: 10 }),\n            React.createElement(Text, { x: 10, y: 10, fontWeight: \"bold\", textBaseline: \"top\", text: label, fill: \"white\" }),\n            inPorts.map(function (portData) { return (React.createElement(Port, { y: 70, data: portData, key: portData.label, anchor: {\n                    x: data.x - 20,\n                    y: data.y + 70,\n                } },\n                React.createElement(Circle, { lineWidth: 4, stroke: color.primary, fill: \"white\", r: 10 }))); }),\n            outPorts.map(function (portData) { return (React.createElement(Port, { x: width, y: 70, data: portData, key: portData.label, anchor: {\n                    x: data.x + width + 20,\n                    y: data.y + 70,\n                } },\n                React.createElement(Circle, { lineWidth: 4, stroke: color.primary, fill: \"white\", r: 10 }))); })));\n    };\n    CommonNode.metaData = {\n        label: \"\",\n    };\n    return CommonNode;\n}(Node));\n\nexport { CommonNode as default };\n"]},"metadata":{},"sourceType":"module"}