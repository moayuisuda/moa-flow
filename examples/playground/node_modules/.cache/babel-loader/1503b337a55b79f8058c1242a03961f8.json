{"ast":null,"code":"export function findExpandedKeys() {\n  var prev = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var next = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var prevLen = prev.length;\n  var nextLen = next.length;\n\n  if (Math.abs(prevLen - nextLen) !== 1) {\n    return {\n      add: false,\n      key: null\n    };\n  }\n\n  function find(shorter, longer) {\n    var cache = new Map();\n    shorter.forEach(function (key) {\n      cache.set(key, true);\n    });\n    var keys = longer.filter(function (key) {\n      return !cache.has(key);\n    });\n    return keys.length === 1 ? keys[0] : null;\n  }\n\n  if (prevLen < nextLen) {\n    return {\n      add: true,\n      key: find(prev, next)\n    };\n  }\n\n  return {\n    add: false,\n    key: find(next, prev)\n  };\n}\nexport function getExpandRange(shorter, longer, key) {\n  var shorterStartIndex = shorter.findIndex(function (data) {\n    return data.key === key;\n  });\n  var shorterEndNode = shorter[shorterStartIndex + 1];\n  var longerStartIndex = longer.findIndex(function (data) {\n    return data.key === key;\n  });\n\n  if (shorterEndNode) {\n    var longerEndIndex = longer.findIndex(function (data) {\n      return data.key === shorterEndNode.key;\n    });\n    return longer.slice(longerStartIndex + 1, longerEndIndex);\n  }\n\n  return longer.slice(longerStartIndex + 1);\n}","map":{"version":3,"sources":["/Users/dennis.zhang/Desktop/其它代码库/moa-flow/node_modules/rc-tree/es/utils/diffUtil.js"],"names":["findExpandedKeys","prev","arguments","length","undefined","next","prevLen","nextLen","Math","abs","add","key","find","shorter","longer","cache","Map","forEach","set","keys","filter","has","getExpandRange","shorterStartIndex","findIndex","data","shorterEndNode","longerStartIndex","longerEndIndex","slice"],"mappings":"AAAA,OAAO,SAASA,gBAAT,GAA4B;AACjC,MAAIC,IAAI,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA/E;AACA,MAAIG,IAAI,GAAGH,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA/E;AACA,MAAII,OAAO,GAAGL,IAAI,CAACE,MAAnB;AACA,MAAII,OAAO,GAAGF,IAAI,CAACF,MAAnB;;AAEA,MAAIK,IAAI,CAACC,GAAL,CAASH,OAAO,GAAGC,OAAnB,MAAgC,CAApC,EAAuC;AACrC,WAAO;AACLG,MAAAA,GAAG,EAAE,KADA;AAELC,MAAAA,GAAG,EAAE;AAFA,KAAP;AAID;;AAED,WAASC,IAAT,CAAcC,OAAd,EAAuBC,MAAvB,EAA+B;AAC7B,QAAIC,KAAK,GAAG,IAAIC,GAAJ,EAAZ;AACAH,IAAAA,OAAO,CAACI,OAAR,CAAgB,UAAUN,GAAV,EAAe;AAC7BI,MAAAA,KAAK,CAACG,GAAN,CAAUP,GAAV,EAAe,IAAf;AACD,KAFD;AAGA,QAAIQ,IAAI,GAAGL,MAAM,CAACM,MAAP,CAAc,UAAUT,GAAV,EAAe;AACtC,aAAO,CAACI,KAAK,CAACM,GAAN,CAAUV,GAAV,CAAR;AACD,KAFU,CAAX;AAGA,WAAOQ,IAAI,CAAChB,MAAL,KAAgB,CAAhB,GAAoBgB,IAAI,CAAC,CAAD,CAAxB,GAA8B,IAArC;AACD;;AAED,MAAIb,OAAO,GAAGC,OAAd,EAAuB;AACrB,WAAO;AACLG,MAAAA,GAAG,EAAE,IADA;AAELC,MAAAA,GAAG,EAAEC,IAAI,CAACX,IAAD,EAAOI,IAAP;AAFJ,KAAP;AAID;;AAED,SAAO;AACLK,IAAAA,GAAG,EAAE,KADA;AAELC,IAAAA,GAAG,EAAEC,IAAI,CAACP,IAAD,EAAOJ,IAAP;AAFJ,GAAP;AAID;AACD,OAAO,SAASqB,cAAT,CAAwBT,OAAxB,EAAiCC,MAAjC,EAAyCH,GAAzC,EAA8C;AACnD,MAAIY,iBAAiB,GAAGV,OAAO,CAACW,SAAR,CAAkB,UAAUC,IAAV,EAAgB;AACxD,WAAOA,IAAI,CAACd,GAAL,KAAaA,GAApB;AACD,GAFuB,CAAxB;AAGA,MAAIe,cAAc,GAAGb,OAAO,CAACU,iBAAiB,GAAG,CAArB,CAA5B;AACA,MAAII,gBAAgB,GAAGb,MAAM,CAACU,SAAP,CAAiB,UAAUC,IAAV,EAAgB;AACtD,WAAOA,IAAI,CAACd,GAAL,KAAaA,GAApB;AACD,GAFsB,CAAvB;;AAIA,MAAIe,cAAJ,EAAoB;AAClB,QAAIE,cAAc,GAAGd,MAAM,CAACU,SAAP,CAAiB,UAAUC,IAAV,EAAgB;AACpD,aAAOA,IAAI,CAACd,GAAL,KAAae,cAAc,CAACf,GAAnC;AACD,KAFoB,CAArB;AAGA,WAAOG,MAAM,CAACe,KAAP,CAAaF,gBAAgB,GAAG,CAAhC,EAAmCC,cAAnC,CAAP;AACD;;AAED,SAAOd,MAAM,CAACe,KAAP,CAAaF,gBAAgB,GAAG,CAAhC,CAAP;AACD","sourcesContent":["export function findExpandedKeys() {\n  var prev = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var next = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var prevLen = prev.length;\n  var nextLen = next.length;\n\n  if (Math.abs(prevLen - nextLen) !== 1) {\n    return {\n      add: false,\n      key: null\n    };\n  }\n\n  function find(shorter, longer) {\n    var cache = new Map();\n    shorter.forEach(function (key) {\n      cache.set(key, true);\n    });\n    var keys = longer.filter(function (key) {\n      return !cache.has(key);\n    });\n    return keys.length === 1 ? keys[0] : null;\n  }\n\n  if (prevLen < nextLen) {\n    return {\n      add: true,\n      key: find(prev, next)\n    };\n  }\n\n  return {\n    add: false,\n    key: find(next, prev)\n  };\n}\nexport function getExpandRange(shorter, longer, key) {\n  var shorterStartIndex = shorter.findIndex(function (data) {\n    return data.key === key;\n  });\n  var shorterEndNode = shorter[shorterStartIndex + 1];\n  var longerStartIndex = longer.findIndex(function (data) {\n    return data.key === key;\n  });\n\n  if (shorterEndNode) {\n    var longerEndIndex = longer.findIndex(function (data) {\n      return data.key === shorterEndNode.key;\n    });\n    return longer.slice(longerStartIndex + 1, longerEndIndex);\n  }\n\n  return longer.slice(longerStartIndex + 1);\n}"]},"metadata":{},"sourceType":"module"}