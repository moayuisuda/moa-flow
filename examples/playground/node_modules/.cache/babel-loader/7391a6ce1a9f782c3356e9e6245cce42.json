{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BindingWhenSyntax = void 0;\n\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\n\nvar constraint_helpers_1 = require(\"./constraint_helpers\");\n\nvar BindingWhenSyntax = function () {\n  function BindingWhenSyntax(binding) {\n    this._binding = binding;\n  }\n\n  BindingWhenSyntax.prototype.when = function (constraint) {\n    this._binding.constraint = constraint;\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenTargetNamed = function (name) {\n    this._binding.constraint = constraint_helpers_1.namedConstraint(name);\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenTargetIsDefault = function () {\n    this._binding.constraint = function (request) {\n      var targetIsDefault = request.target !== null && !request.target.isNamed() && !request.target.isTagged();\n      return targetIsDefault;\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenTargetTagged = function (tag, value) {\n    this._binding.constraint = constraint_helpers_1.taggedConstraint(tag)(value);\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenInjectedInto = function (parent) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.typeConstraint(parent)(request.parentRequest);\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenParentNamed = function (name) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.namedConstraint(name)(request.parentRequest);\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenParentTagged = function (tag, value) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.taggedConstraint(tag)(value)(request.parentRequest);\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n    this._binding.constraint = function (request) {\n      return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenAnyAncestorNamed = function (name) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenNoAncestorNamed = function (name) {\n    this._binding.constraint = function (request) {\n      return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n    this._binding.constraint = function (request) {\n      return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n    this._binding.constraint = function (request) {\n      return constraint_helpers_1.traverseAncerstors(request, constraint);\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  BindingWhenSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n    this._binding.constraint = function (request) {\n      return !constraint_helpers_1.traverseAncerstors(request, constraint);\n    };\n\n    return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n  };\n\n  return BindingWhenSyntax;\n}();\n\nexports.BindingWhenSyntax = BindingWhenSyntax;","map":{"version":3,"mappings":"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","names":["binding","_binding","BindingWhenSyntax","constraint","binding_on_syntax_1","name","constraint_helpers_1","request","targetIsDefault","target","isNamed","isTagged","tag","value","parent","parentRequest","ancestor","exports"],"sources":["../../src/syntax/binding_when_syntax.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}