{"expireTime":9007200928245229000,"key":"gatsby-plugin-mdx-entire-payload-d0a45ebdeba5f116377146ef9a8a70c9-","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import DefaultLayout from \"/Users/admin/code/moa-flow/moa-fow-version-dom/moa-flow/doc/node_modules/gatsby-theme-docz/src/base/Layout.js\"","position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":138,"offset":139},"indent":[]}},{"type":"export","default":true,"value":"export default DefaultLayout","position":{"start":{"line":5,"column":1,"offset":141},"end":{"line":5,"column":29,"offset":169},"indent":[]}},{"type":"import","value":"import { FormattedMessage } from \"@components/FormattedMessage\";\nimport { Playground } from \"@components/Playground\";","position":{"start":{"line":8,"column":1,"offset":172},"end":{"line":9,"column":53,"offset":289},"indent":[1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"API","position":{"start":{"line":11,"column":3,"offset":293},"end":{"line":11,"column":6,"offset":296},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":291},"end":{"line":11,"column":6,"offset":296},"indent":[]}},{"type":"jsx","value":"<FormattedMessage id=\"api-ts-surport\" />","position":{"start":{"line":13,"column":1,"offset":298},"end":{"line":13,"column":41,"offset":338},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"flowProps","position":{"start":{"line":15,"column":4,"offset":343},"end":{"line":15,"column":13,"offset":352},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":340},"end":{"line":15,"column":13,"offset":352},"indent":[]}},{"type":"code","lang":"tsx","meta":null,"value":"link?: (source: D, target: D) => boolean;\ndir: PortDir;\nanchor: { x: number; y: number } | (() => { x: number; y: number });\ndata: Object;","position":{"start":{"line":17,"column":1,"offset":354},"end":{"line":22,"column":4,"offset":503},"indent":[1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"portProps","position":{"start":{"line":24,"column":4,"offset":508},"end":{"line":24,"column":13,"offset":517},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":505},"end":{"line":24,"column":13,"offset":517},"indent":[]}},{"type":"code","lang":"tsx","meta":null,"value":"canvasData?: any; // 画布的数据\nonEvent?: (e: { type: string; data: any }) => void; // propProps-onEnvent\n\nonLoad?: (model: FlowModel) => void;\nflowModelRef?: any;\nwidth?: number;\nheight?: number;\ngrid?: number;\nmultiSelect?: boolean; // 是否开启多选\ncomponents?: Record<string, React.FC<any>>;\nmodels?: Record<string, typeof CellModel>;\nlinkEdge?: string; // 当前默认连接的edge","position":{"start":{"line":26,"column":1,"offset":519},"end":{"line":39,"column":4,"offset":890},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"flowModelProps","position":{"start":{"line":41,"column":4,"offset":895},"end":{"line":41,"column":18,"offset":909},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":892},"end":{"line":41,"column":18,"offset":909},"indent":[]}},{"type":"code","lang":"tsx","meta":null,"value":"get height: () => number\nset height: (grid: number) => void\n\nget width: () => number\nset width: (grid: number) => void\n\nget grid: () => number\nset grid: (grid: number) => void\n\nget linkEdge: () => number\nset linkEdge: (linkEdge: string) => void\n\nget scale: () => number\nset scale: (scale: number) => void\n\nget x: () => number\nset x: (x: number) => void\n\nget y: () => number\nset y: (y: number) => void\n\n// 右键菜单的visible\nget contextMenuVisible: () => boolean\nset contextMenuVisible: (visible: boolean) => void\n\n// 获取当前正在连接的port\ngetLinkingPort: () => string\n\n// 获取当前鼠标的[画布坐标]\ngetCursorCoord: (e: React.MouseEvent, isCanvasCoord: boolean = true) => {x: Number, y: number};\n\ncanvasData: Object\n\n// 设置画布数据\nsetCanvasData: (canvasData: CanvasDataType) => void;\n\n// 设置某个Cell的data，包括node，edge，port\nsetCellData = (id: string, data: any, deepMerge: boolean = true) => void;\n\n// 获取某个node连接的所有edge\ngetNodeEdges: (nodeId: string) => string[];\n\n//获取某个port连接的所有port\ngetPortLinkPorts: (portId: string) => string[];\n\n// 获取某个port连接的所有node\ngetPortLinkNodes: (portId: string) => string[]\n\n// 获取某个node连接的所有port\ngetLinkPorts: (nodeId: string) => string[];\n\n// 获取某个node连接的所有node\ngetLinkNodes: (nodeId: string) => string[];\n\n// 删除某个Cell\ndeleCell: (id: string) => string;\n\n// 增添Cell，返回增添cell的id\naddCell: (componentName: string, initOptions?: any) => string\n\n// 手动对port进行连线，返回增添edge的id\nlink: (source: string, target: string) => string\n\n// 调整某个Cell的层级\nmoveTo: (id: string, index: number) => void\n\ngetCellData: (id: string) => Object\n\ngetCellModel: (id: string) => CellModel;\n\ngetPortInstance: (id: string) => React.Component","position":{"start":{"line":43,"column":1,"offset":911},"end":{"line":115,"column":4,"offset":2516},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"cellModelProps","position":{"start":{"line":117,"column":4,"offset":2521},"end":{"line":117,"column":18,"offset":2535},"indent":[]}}],"position":{"start":{"line":117,"column":1,"offset":2518},"end":{"line":117,"column":18,"offset":2535},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"NodeModel 和 EdgeModel 都是继承于 CellModel","position":{"start":{"line":119,"column":1,"offset":2537},"end":{"line":119,"column":38,"offset":2574},"indent":[]}}],"position":{"start":{"line":119,"column":1,"offset":2537},"end":{"line":119,"column":38,"offset":2574},"indent":[]}},{"type":"code","lang":"jsx","meta":null,"value":"defaultData = (): any => ({\n    id: \"\", // 自动生成\n    component: \"\", // 取注册的component，如没有则自动生成\n    cellType: \"\", // 自动生成\n  });\n\ncontext: FlowModel;\n\ndata: CellDataType;\n\n// 是否被选中\nisSelect: boolean\n\n// 获取外层包裹div/g的元素实例\ngetWrapperRef: () => HTMLDivElement\n\nsetData = (data: any, rec: boolean = true): void\n\n// 获取某个Model合并了原型链上所有父class的defaultData后的defaultData\nstatic getDefaultData: () => Object","position":{"start":{"line":121,"column":1,"offset":2576},"end":{"line":142,"column":4,"offset":2978},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"nodeModelProps","position":{"start":{"line":144,"column":4,"offset":2983},"end":{"line":144,"column":18,"offset":2997},"indent":[]}}],"position":{"start":{"line":144,"column":1,"offset":2980},"end":{"line":144,"column":18,"offset":2997},"indent":[]}},{"type":"code","lang":"tsx","meta":null,"value":"getLinkNodes: () => string[]\ngetLinkPorts: () => string[]\ngetNodeEdges: () => string[]\n","position":{"start":{"line":146,"column":1,"offset":2999},"end":{"line":151,"column":4,"offset":3097},"indent":[1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"edgeModelProps","position":{"start":{"line":153,"column":4,"offset":3102},"end":{"line":153,"column":18,"offset":3116},"indent":[]}}],"position":{"start":{"line":153,"column":1,"offset":3099},"end":{"line":153,"column":18,"offset":3116},"indent":[]}},{"type":"code","lang":"tsx","meta":null,"value":"defaultData: () => ({\n  source: \"\", // 连线会自动更改\n  target: \"\", // 连线会自动更改\n});\n\ngetLinkNodesData: () => {source: Object, target: Object}\n\ngetPointAt: (ratio: number) => {x: number, y: number}\n\n// 是否正在连线\nisLinking: () => boolean\n\n// 用作<path>的d属性中\nd: string\n","position":{"start":{"line":155,"column":1,"offset":3118},"end":{"line":171,"column":4,"offset":3382},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"export","value":"export const _frontmatter = {}","position":{"start":{"line":174,"column":1,"offset":3385},"end":{"line":174,"column":31,"offset":3415},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":174,"column":31,"offset":3415}}},"scopeImports":[],"scopeIdentifiers":[],"rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/Users/admin/code/moa-flow/moa-fow-version-dom/moa-flow/doc/node_modules/gatsby-theme-docz/src/base/Layout.js\"\nimport { FormattedMessage } from \"@components/FormattedMessage\";\nimport { Playground } from \"@components/Playground\";\nexport const _frontmatter = {};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <h1 {...{\n      \"id\": \"api\"\n    }}>{`API`}</h1>\n    <FormattedMessage id=\"api-ts-surport\" mdxType=\"FormattedMessage\" />\n    <h2 {...{\n      \"id\": \"flowprops\"\n    }}>{`flowProps`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-tsx\"\n      }}>{`link?: (source: D, target: D) => boolean;\ndir: PortDir;\nanchor: { x: number; y: number } | (() => { x: number; y: number });\ndata: Object;\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"portprops\"\n    }}>{`portProps`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-tsx\"\n      }}>{`canvasData?: any; // 画布的数据\nonEvent?: (e: { type: string; data: any }) => void; // propProps-onEnvent\n\nonLoad?: (model: FlowModel) => void;\nflowModelRef?: any;\nwidth?: number;\nheight?: number;\ngrid?: number;\nmultiSelect?: boolean; // 是否开启多选\ncomponents?: Record<string, React.FC<any>>;\nmodels?: Record<string, typeof CellModel>;\nlinkEdge?: string; // 当前默认连接的edge\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"flowmodelprops\"\n    }}>{`flowModelProps`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-tsx\"\n      }}>{`get height: () => number\nset height: (grid: number) => void\n\nget width: () => number\nset width: (grid: number) => void\n\nget grid: () => number\nset grid: (grid: number) => void\n\nget linkEdge: () => number\nset linkEdge: (linkEdge: string) => void\n\nget scale: () => number\nset scale: (scale: number) => void\n\nget x: () => number\nset x: (x: number) => void\n\nget y: () => number\nset y: (y: number) => void\n\n// 右键菜单的visible\nget contextMenuVisible: () => boolean\nset contextMenuVisible: (visible: boolean) => void\n\n// 获取当前正在连接的port\ngetLinkingPort: () => string\n\n// 获取当前鼠标的[画布坐标]\ngetCursorCoord: (e: React.MouseEvent, isCanvasCoord: boolean = true) => {x: Number, y: number};\n\ncanvasData: Object\n\n// 设置画布数据\nsetCanvasData: (canvasData: CanvasDataType) => void;\n\n// 设置某个Cell的data，包括node，edge，port\nsetCellData = (id: string, data: any, deepMerge: boolean = true) => void;\n\n// 获取某个node连接的所有edge\ngetNodeEdges: (nodeId: string) => string[];\n\n//获取某个port连接的所有port\ngetPortLinkPorts: (portId: string) => string[];\n\n// 获取某个port连接的所有node\ngetPortLinkNodes: (portId: string) => string[]\n\n// 获取某个node连接的所有port\ngetLinkPorts: (nodeId: string) => string[];\n\n// 获取某个node连接的所有node\ngetLinkNodes: (nodeId: string) => string[];\n\n// 删除某个Cell\ndeleCell: (id: string) => string;\n\n// 增添Cell，返回增添cell的id\naddCell: (componentName: string, initOptions?: any) => string\n\n// 手动对port进行连线，返回增添edge的id\nlink: (source: string, target: string) => string\n\n// 调整某个Cell的层级\nmoveTo: (id: string, index: number) => void\n\ngetCellData: (id: string) => Object\n\ngetCellModel: (id: string) => CellModel;\n\ngetPortInstance: (id: string) => React.Component\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"cellmodelprops\"\n    }}>{`cellModelProps`}</h2>\n    <p>{`NodeModel 和 EdgeModel 都是继承于 CellModel`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`defaultData = (): any => ({\n    id: \"\", // 自动生成\n    component: \"\", // 取注册的component，如没有则自动生成\n    cellType: \"\", // 自动生成\n  });\n\ncontext: FlowModel;\n\ndata: CellDataType;\n\n// 是否被选中\nisSelect: boolean\n\n// 获取外层包裹div/g的元素实例\ngetWrapperRef: () => HTMLDivElement\n\nsetData = (data: any, rec: boolean = true): void\n\n// 获取某个Model合并了原型链上所有父class的defaultData后的defaultData\nstatic getDefaultData: () => Object\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"nodemodelprops\"\n    }}>{`nodeModelProps`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-tsx\"\n      }}>{`getLinkNodes: () => string[]\ngetLinkPorts: () => string[]\ngetNodeEdges: () => string[]\n\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"edgemodelprops\"\n    }}>{`edgeModelProps`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-tsx\"\n      }}>{`defaultData: () => ({\n  source: \"\", // 连线会自动更改\n  target: \"\", // 连线会自动更改\n});\n\ngetLinkNodesData: () => {source: Object, target: Object}\n\ngetPointAt: (ratio: number) => {x: number, y: number}\n\n// 是否正在连线\nisLinking: () => boolean\n\n// 用作<path>的d属性中\nd: string\n\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;"}}