import { __decorate } from '../../../../../_tslib@2.4.0@tslib/tslib.es6.js';
import { singleton } from '../../../../../_mana-syringe@0.3.1@mana-syringe/es/decorator.js';
import '../../../../../_mana-syringe@0.3.1@mana-syringe/es/container.js';
import '../../../../../_mana-syringe@0.3.1@mana-syringe/es/core.js';
import '../../../../../_mana-syringe@0.3.1@mana-syringe/es/contribution/contribution-protocol.js';
import '../../../../../_inversify@5.1.1@inversify/lib/inversify.js';
import '../../../../../_mana-syringe@0.3.1@mana-syringe/es/register.js';
import '../../../../../_mana-syringe@0.3.1@mana-syringe/es/contribution/index.js';

var CSSPropertyOffsetPath =
/** @class */
function () {
  function CSSPropertyOffsetPath() {}

  CSSPropertyOffsetPath.prototype.calculator = function (name, oldOffsetPath, newOffsetPath, object) {
    // clear ref to old clip path
    if (oldOffsetPath && oldOffsetPath !== newOffsetPath && oldOffsetPath.style.offsetPathTargets) {
      var index = oldOffsetPath.style.offsetPathTargets.indexOf(object);
      oldOffsetPath.style.offsetPathTargets.splice(index, 1);
    }

    if (newOffsetPath) {
      if (!newOffsetPath.style.offsetPathTargets) {
        newOffsetPath.style.offsetPathTargets = [];
      }

      newOffsetPath.style.offsetPathTargets.push(object);
    }

    return newOffsetPath;
  };

  CSSPropertyOffsetPath = __decorate([singleton()], CSSPropertyOffsetPath);
  return CSSPropertyOffsetPath;
}();

export { CSSPropertyOffsetPath };
